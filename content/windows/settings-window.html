<!-- Direct content without HTML, HEAD, or BODY tags, ready for dynamic loading -->
<div class="window color glass active" id="settingsWindow" style="width: 320px; height: 300px;">
    <div class="title-bar">
        <div class="title-bar-text">Website Customization</div>
        <div class="title-bar-controls">
            <button aria-label="Minimize" onclick="minimizeWindow(this)"></button>
            <button aria-label="Maximize" onclick="maximizeWindow(this)"></button>
            <button aria-label="Close" onclick="closeWindow(this)"></button>
        </div>
    </div>
    <div class="window-body has-space has-scrollbar" style="width: 295px; height: 250px; overflow: auto">
        <!-- Content sections for dynamic tab loading -->
        <section class="tabs" style="max-width: 279px">
            <menu role="tablist" aria-label="settingsTabs">
                <button role="tab" aria-controls="window-color-settings-content" aria-selected="true" id="tab-btn-window-color">Window Color</button>
                <button role="tab" aria-controls="image-icon-settings-content" id="tab-btn-image-icon">Image &amp; Icon Settings</button>
                <button role="tab" aria-controls="mouse-settings-content" id="tab-btn-mouse">Mouse</button>
                <button role="tab" aria-controls="sound-settings-content" id="tab-btn-sound">Sound</button>
            </menu>
            <div id="window-color-settings-content" class="tab-content"></div>
            <div id="image-icon-settings-content" class="tab-content"></div>
            <div id="mouse-settings-content" class="tab-content"></div>
            <div id="sound-settings-content" class="tab-content"></div>
        </section>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="content/scripts/utilities.js"></script>
<script src="content/scripts/windowFunctions.js"></script>
<script src="content/scripts/settingsManager.js"></script>
<script>
$(document).ready(function() {
    // Load initial content
    loadTabContent("#window-color-settings-content", "content/windows/settings-window/window-color-settings.html");

    // Function to handle tab selection state
    function selectTab(tabButton) {
        // Remove aria-selected from all tabs
        $("menu[role='tablist'] button").attr("aria-selected", "false");
        // Set aria-selected to true for the clicked tab
        $(tabButton).attr("aria-selected", "true");
    }

    // Event listeners for tab buttons
    $("#tab-btn-window-color").click(function() {
        selectTab(this);
        unloadTabContent(".tab-content"); // Unload content of all tabs
        loadTabContent("#window-color-settings-content", "content/windows/settings-window/window-color-settings.html");
    });

    $("#tab-btn-image-icon").click(function() {
        selectTab(this);
        unloadTabContent(".tab-content"); // Unload content of all tabs
        loadTabContent("#image-icon-settings-content", "content/windows/settings-window/image-icon-settings.html");
    });

    $("#tab-btn-mouse").click(function() {
        selectTab(this);
        unloadTabContent(".tab-content"); // Unload content of all tabs
        loadTabContent("#mouse-settings-content", "content/windows/settings-window/mouse-settings.html");
    });

    $("#tab-btn-sound").click(function() {
        selectTab(this);
        unloadTabContent(".tab-content"); // Unload content of all tabs
        loadTabContent("#sound-settings-content", "content/windows/settings-window/sound-settings.html");
    });
});


</script>
