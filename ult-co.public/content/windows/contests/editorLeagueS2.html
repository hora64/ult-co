<div class="window color glass active" id="contestPage" style="width: 450px; height: 418px;">
   <div class="title-bar">
      <div class="title-bar-text">Editor League Season 2</div>
      <div class="title-bar-controls">
         <button aria-label="Close" onclick="closeWindow(this)"></button>
      </div>
   </div>
        <div class="window-body has-space has-scrollbar" style="width: 423px; height: 348px; overflow: auto">
            <!-- Content sections for dynamic tab loading -->
            <section class="tabs" style="max-width: 601px">
                <menu role="tablist" aria-label="contestPageTabs">
                    <button role="tab" aria-controls="info-content" id="tab-btn-editorleagues2-info" aria-selected="true">Info/Rules</button>
                    <button role="tab" aria-controls="round1-content" id="tab-btn-editorleagues2-round1">Round #1</button>
                    <button role="tab" aria-controls="round2-content" id="tab-btn-editorleagues2-round2">Round #2</button>
                    <button role="tab" aria-controls="round3-content" id="tab-btn-editorleagues2-round3">Round #3</button>
                    <button role="tab" aria-controls="round4-content" id="tab-btn-editorleagues2-round4" disabled>Round #4</button>
                    <button role="tab" aria-controls="round5-content" id="tab-btn-editorleagues2-round5" disabled>Round #5</button>
                </menu>
                <div id="info-content" class="tab-content"></div>
                <div id="round1-content" class="tab-content"></div>
                <div id="round2-content" class="tab-content"></div>
                <div id="round3-content" class="tab-content"></div>
                <div id="round4-content" class="tab-content"></div>
                <div id="round5-content" class="tab-content"></div>
            </section>
        </div>
        <div class="status-bar" style="width: 435px;">
      <p class="status-bar-field">Round #2 Deadline</p>
      <p class="status-bar-field">July 31st, 2024 3pm EST</p>
      <div id="countdown"></div>
   </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="content/scripts/utilities.js"></script>
    <script src="content/scripts/windowFunctions.js"></script>
    <script src="content/scripts/settingsManager.js"></script>
    <script>
 $(document).ready(function() {
    // Load initial content for contestPage
    loadTabContent("contestPage", "#info-content", "content/windows/contests/editorLeague/editorLeagueS2-info.html");
    
    // Event listeners for tab buttons within the contestPage
    $("#tab-btn-editorleagues2-info").click(function() {
        selectTab(this, "contestPage");
        unloadTabContent("contestPage", ".tab-content"); // Unload content of all tabs within contestPage
        loadTabContent("contestPage", "#info-content", "content/windows/contests/editorLeague/editorLeagueS2-info.html");
    });


    $("#tab-btn-editorleagues2-round1").click(function() {
        selectTab(this, "contestPage");
        unloadTabContent("contestPage", ".tab-content");
        loadTabContent("contestPage", "#round1-content", "content/windows/contests/editorLeague/round1.html");
    });

    $("#tab-btn-editorleagues2-round2").click(function() {
        selectTab(this, "contestPage");
        unloadTabContent("contestPage", ".tab-content");
        loadTabContent("contestPage", "#round2-content", "content/windows/contests/editorLeague/round2.html");
    });

    $("#tab-btn-editorleagues2-round3").click(function() {
        selectTab(this, "contestPage");
        unloadTabContent("contestPage", ".tab-content");
        loadTabContent("contestPage", "#round3-content", "content/windows/contests/editorLeague/round3.html");
    });

    $("#tab-btn-editorleagues2-round4").click(function() {
        selectTab(this, "contestPage");
        unloadTabContent("contestPage", ".tab-content");
        loadTabContent("contestPage", "#round4-content", "content/windows/contests/editorLeague/round4.html");
    });

    $("#tab-btn-editorleagues2-round5").click(function() {
        selectTab(this, "contestPage");
        unloadTabContent("contestPage", ".tab-content");
        loadTabContent("contestPage", "#round5-content", "content/windows/contests/editorLeague/round5.html");
    });
});

    </script>
<script>
   function updateCountdown() {
      var deadline = new Date("July 31, 2024 15:00:00").getTime();
      
      // Get current time in UTC and then convert to EDT (UTC-4)
      var now = new Date().getTime();
      var nowUTC = now + (new Date().getTimezoneOffset() * 60000);
      var nowEDT = new Date(nowUTC - (4 * 60 * 60 * 1000));

      var timeRemaining = deadline - nowEDT.getTime();

      var days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
      var hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

      document.getElementById("countdown").innerHTML = days + "d " + hours + "h "
      + minutes + "m " + seconds + "s ";

      if (timeRemaining < 0) {
         clearInterval(countdownInterval);
         document.getElementById("countdown").innerHTML = "Deadline has passed.";
      }
   }

   var countdownInterval = setInterval(updateCountdown, 1000);
</script>
